<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World</title>
    <url>/2023/02/26/hello-world/</url>
    <content><![CDATA[<p>Welcome to <span class="exturl"><a class="exturl__link"   href="https://hexo.io/" >Hexo</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>! This is your very first post. Check <span class="exturl"><a class="exturl__link"   href="https://hexo.io/docs/" >documentation</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> for more info. If you get any problems when using Hexo, you can find the answer in <span class="exturl"><a class="exturl__link"   href="https://hexo.io/docs/troubleshooting.html" >troubleshooting</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> or you can ask me on <span class="exturl"><a class="exturl__link"   href="https://github.com/hexojs/hexo/issues" >GitHub</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h2 id="Quick-Start"   >
          <a href="#Quick-Start" class="heading-link"><i class="fas fa-link"></i></a><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2>
      
        <h3 id="Create-a-new-post"   >
          <a href="#Create-a-new-post" class="heading-link"><i class="fas fa-link"></i></a><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></div></figure>

<p>More info: <span class="exturl"><a class="exturl__link"   href="https://hexo.io/docs/writing.html" >Writing</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="Run-server"   >
          <a href="#Run-server" class="heading-link"><i class="fas fa-link"></i></a><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></div></figure>

<p>More info: <span class="exturl"><a class="exturl__link"   href="https://hexo.io/docs/server.html" >Server</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="Generate-static-files"   >
          <a href="#Generate-static-files" class="heading-link"><i class="fas fa-link"></i></a><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></div></figure>

<p>More info: <span class="exturl"><a class="exturl__link"   href="https://hexo.io/docs/generating.html" >Generating</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="Deploy-to-remote-sites"   >
          <a href="#Deploy-to-remote-sites" class="heading-link"><i class="fas fa-link"></i></a><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></div></figure>

<p>More info: <span class="exturl"><a class="exturl__link"   href="https://hexo.io/docs/one-command-deployment.html" >Deployment</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
]]></content>
  </entry>
  <entry>
    <title>title</title>
    <url>/2023/02/26/title/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Linux</category>
        <category>tools</category>
        <category>Python</category>
        <category>web</category>
        <category>Database</category>
      </categories>
  </entry>
  <entry>
    <title>监控ssl到期时间</title>
    <url>/2023/02/27/webmonitor/</url>
    <content><![CDATA[<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="code"><pre><span class="line">python</span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># 定义网站域名和端口号信息</span><br><span class="line">WebName=&quot;www.baidu.com&quot;</span><br><span class="line">Port=&quot;443&quot;</span><br><span class="line"></span><br><span class="line"># 通过 Openssl 工具获取到当前证书的到期时间</span><br><span class="line">Cert_END_Time=$(echo | openssl s_client -servername $&#123;WebName&#125; -connect $&#123;WebName&#125;:$&#123;Port&#125; 2&gt; /dev/null | openssl x509 -noout -dates | grep &#x27;After&#x27; | awk -F &#x27;=&#x27; &#x27;&#123;print $2&#125;&#x27; | awk &#x27;&#123;print $1,$2,$4&#125;&#x27;)</span><br><span class="line"></span><br><span class="line"># 将证书的到期时间转化成时间戳</span><br><span class="line">Cert_NED_TimeStamp=$(date +%s -d &quot;$Cert_END_Time&quot;)</span><br><span class="line"></span><br><span class="line"># 定义当前时间的时间戳</span><br><span class="line">Create_TimeStamp=$(date +%s)</span><br><span class="line"></span><br><span class="line"># 通过计算获取到证书的剩余天数</span><br><span class="line">Rest_Time=$(expr $(expr $Cert_NED_TimeStamp - $Create_TimeStamp) / 86400)</span><br><span class="line"></span><br><span class="line"># 配置告警提示信息</span><br><span class="line">echo &quot;$WebName  网站的 SSL 证书还有 $Rest_Time 天后到期idc&quot; &gt; ssl-monitor.txt</span><br><span class="line"></span><br><span class="line"># 定义钉钉机器人的 API 接口</span><br><span class="line">WebHook=&#x27;https://oapi.dingtalk.com/robot/send?access_token=20e3ec13&amp;label=idc&amp;msg_type=markdown&#x27;</span><br><span class="line">#idc关键字存放于echo里面才能触发告警</span><br><span class="line"># 通过 Curl 命令来发送 Post 请求</span><br><span class="line">curl &quot;$&#123;WebHook&#125;&quot; -H &#x27;Content-Type: application/json&#x27; -d &#x27;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;msgtype&quot;: &quot;text&quot;,</span><br><span class="line">    &quot;text&quot;: &#123; </span><br><span class="line">        &quot;content&quot;: &quot;SSL告警通知&#x27;&quot;$(cat ssl-monitor.txt)&quot;&#x27;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;&#x27; &amp;&gt; ssl_check.log                    </span><br></pre></td></tr></table></div></figure>

]]></content>
  </entry>
</search>
